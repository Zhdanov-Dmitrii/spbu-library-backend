# Backend для сайта "Книжная Паутина"
## Описание
Проект выполнен в рамках учебных дисциплин Основы Баз Данных и WEB-технологии. 

Языки программирования и технологии: Python, Flask, Postgresql, JavaScript, React

Приложение представляет из себя платформу для оценки книг. Приложение позволяет получать по список книг содержащую информацию о названии, авторе, жанрах и рейтинге на основе оставленных пользователями отзывов, информацию о конкретной книге, содержащую вышеперечисленную информацию и список пользователей, оставивших отзыв; получать список зарегистрированных пользователей содержащий ФИО, email, любимые жанры; получать информацию о конкретном пользователе, содержащую вышеперечисленную информацию вместе с фотографией пользователя списка книг, автором которых является пользователь, и списка книг, на которые пользователь оставил отзыв. Регистрация в приложении происходит через google аккаунт и вносит пользователя в базу читателей и дает ему возможность оставлять отзывы на книги.

### Роли пользователей:
* Гость - не авторизованный пользователь
* Пользователь
* Администратор

### Права Гостя:
* Искать книги
* Искать и просматривать пользователей

### Права Пользователя:
* Права Гостя
* Редактировать личный кабинет
* Просматривать/оставлять/изменять отзывы на книги
* Добавлять книг, автором которых является пользователь

### Права Администратора:
* Права Пользователя 
* Назначать Администратора 
* Редактирование личного кабинета любогопользователя	
* Изменение отзывов любых пользователей	
* Добавление книг с произвольным автором


## Описание структуры данных

### Описание таблиц

#### rule - роли пользователей
* id_rule - SERIAL PRIMARY KEY 
* rule- VARCHAR(255)

#### book - информация о книге
* id_book – SERIAL PRIMARY KEY 
* name – VARCHAR(255)

#### user - информация о пользователях
* id_user - SERIAL PRIMARY KEY 
* fio - VARCHAR(255)	
* imageUrl - VARCHAR(255)	
* email – email VARCHAR(255)	
* googleId – VARCHAR(255)	
* Id_rule - INT

#### genre - жанры книг
* id_genre - SERIAL PRIMARY KEY	
* name - VARCHAR(255)

#### bookGenre – связь жанров и книг
* id_genre – INT SERIAL PRIMARY KEY	
* id_book – INT SERIAL PRIMARY KEY

#### statusRead - статус прочтения книги
* id_statusRead - SERIAL PRIMARY KEY	
* status - VARCHAR(255)

#### bookRead - связь пользователей и прочитанных ими книг
* id_statusRead - INT	
* id_book – INT PRIMARY KEY	
* id_user – INT PRIMARY KEY	
* rate - INT	
* comment - TEXT

#### userFavoriteGenre – связь пользователей с их любимыми жанрами
* id_user –INT SERIAL PRIMARY KEY	
* id_genre - INT PRIMARY KEY

#### bookAuthor - связь книг и авторов
* id_book – INT PRIMARY KEY	
* id_user – INT PRIMARY KEY

## Инструкция по запуску

1. Первым делом необходимо скачать и установить python, если у вас его еще нет.
Сделать это можно с официального сайта: https://www.python.org/downloads/.

2. Далее устанавливаем, формируем и запускаем виртуальное окружение (делаем в консоли внутри нашей папки):

```
pip install virtualenv
python -m venv venv
venv\Scripts\activate
```

3. Теперь в консоли с запущенным вируальным окружением (впереди должно быть дописано `(venv)`) устанавливаем все зависимости и запускаем сервер flask:

```
pip install -r requirements.txt
server_start.bat
```
